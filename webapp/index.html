<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="description" content="–†–µ–≤–æ–ª—é—Ü–∏–æ–Ω–Ω—ã–π —é—Ä–∏–¥–∏—á–µ—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å —Å –ø—Ä–µ–º–∏—É–º UX/UI. –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–∞—è –ø–æ–º–æ—â—å –≤ 1 –∫–ª–∏–∫.">
    <meta name="keywords" content="—é—Ä–∏–¥–∏—á–µ—Å–∫–∏–µ —É—Å–ª—É–≥–∏, —é—Ä–∏—Å—Ç –æ–Ω–ª–∞–π–Ω, –ø—Ä–µ–º–∏—É–º —Å–µ—Ä–≤–∏—Å, telegram mini app">
    <meta name="author" content="Premium Legal Services">
    <meta name="robots" content="index, follow">
    
    <!-- PWA Meta Tags -->
    <meta name="theme-color" content="#667eea">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Premium Legal">
    
    <!-- Telegram WebApp Script -->
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    
    <!-- Security Headers -->
    <meta http-equiv="X-Content-Type-Options" content="nosniff">
    <meta http-equiv="X-Frame-Options" content="DENY">
    <meta http-equiv="X-XSS-Protection" content="1; mode=block">
    
    <title>Premium Legal Services - –†–µ–≤–æ–ª—é—Ü–∏–æ–Ω–Ω—ã–π UX</title>
    
    <!-- Ultra-Modern Design System -->
    <link rel="stylesheet" href="/webapp/ultra-modern-design.css" media="all">
    
    <!-- Preload Critical Resources -->
    <link rel="preload" href="/webapp/ultra-modern-main.js" as="script">
    <link rel="preload" href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" as="style">
    
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>‚öñÔ∏è</text></svg>">
    
    <!-- Performance & Analytics -->
    <script>
        window.ultraApp = {
            startTime: performance.now(),
            loadTime: null,
            interactions: [],
            errors: []
        };
        
        // Performance monitoring
        window.addEventListener('load', () => {
            window.ultraApp.loadTime = performance.now() - window.ultraApp.startTime;
            console.log(`üöÄ Ultra App loaded in ${window.ultraApp.loadTime.toFixed(2)}ms`);
        });
        
        // Error tracking
        window.addEventListener('error', (e) => {
            window.ultraApp.errors.push({
                message: e.message,
                filename: e.filename,
                lineno: e.lineno,
                timestamp: Date.now()
            });
        });
        
        // Interaction tracking
        window.addEventListener('click', (e) => {
            window.ultraApp.interactions.push({
                element: e.target.tagName,
                className: e.target.className,
                timestamp: Date.now()
            });
        });
    </script>
</head>
<body class="telegram-webapp">

<div id="ultra-app" class="ultra-app">
    <!-- Premium Header with Glass Effect -->
    <header class="ultra-header">
        <div class="ultra-container">
            <div class="ultra-header-content">
                <div class="ultra-brand">
                    <div class="ultra-brand-icon">‚öñÔ∏è</div>
                    <h1 class="ultra-brand-text">Premium Legal</h1>
                </div>
                <div id="step-indicator" class="ultra-step-indicator">–®–∞–≥ 1 –∏–∑ 4</div>
            </div>
            <div class="ultra-progress">
                <div id="progress-bar" class="ultra-progress-fill" style="width: 25%"></div>
            </div>
        </div>
    </header>

    <!-- Step 1: Revolutionary Category Selection -->
    <section id="step-1" class="ultra-step active">
        <div class="ultra-container">
            <div class="ultra-card">
                <h2 class="ultra-title">–í—ã–±–µ—Ä–∏—Ç–µ –æ–±–ª–∞—Å—Ç—å –ø—Ä–∞–≤–∞</h2>
                <p class="ultra-subtitle">–í —á—ë–º –Ω—É–∂–Ω–∞ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–∞—è –ø–æ–º–æ—â—å? –í—ã–±–µ—Ä–∏—Ç–µ –Ω–∞–∏–±–æ–ª–µ–µ –ø–æ–¥—Ö–æ–¥—è—â—É—é –∫–∞—Ç–µ–≥–æ—Ä–∏—é</p>
                
                <div id="categories" class="ultra-categories">
                    <!-- Categories will be inserted here -->
                </div>
                
                <!-- Premium Selection Feedback -->
                <div id="selected-category" class="hidden">
                    <div class="ultra-card ultra-card-compact" style="background: linear-gradient(135deg, rgba(102, 126, 234, 0.1), rgba(118, 75, 162, 0.05)); border: 2px solid rgba(102, 126, 234, 0.3); margin-top: 24px;">
                        <div style="display: flex; align-items: center; gap: 16px;">
                            <div style="width: 12px; height: 12px; background: linear-gradient(135deg, #11998e, #38ef7d); border-radius: 50%; box-shadow: 0 0 12px rgba(56, 239, 125, 0.5);"></div>
                            <div>
                                <div style="font-weight: 700; color: #2d3748; margin-bottom: 4px;">‚ú® –û—Ç–ª–∏—á–Ω—ã–π –≤—ã–±–æ—Ä!</div>
                                <div style="font-size: 14px; color: #4a5568;">–í—ã–±—Ä–∞–Ω–æ: <span id="selected-category-name" style="font-weight: 600; color: #667eea;"></span></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Step 2: Smart Problem Analysis -->
    <section id="step-2" class="ultra-step hidden">
        <div class="ultra-container">
            <div class="ultra-card">
                <h2 class="ultra-title">–†–∞—Å—Å–∫–∞–∂–∏—Ç–µ –æ —Å–∏—Ç—É–∞—Ü–∏–∏</h2>
                <p class="ultra-subtitle">–ß–µ–º –ø–æ–¥—Ä–æ–±–Ω–µ–µ –≤—ã –æ–ø–∏—à–µ—Ç–µ –ø—Ä–æ–±–ª–µ–º—É, —Ç–µ–º —Ç–æ—á–Ω–µ–µ –±—É–¥–µ—Ç –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è</p>
                
                <div class="space-y-4">
                    <div class="ultra-form-group">
                        <label class="ultra-label" for="subcategory">üéØ –ö–æ–Ω–∫—Ä–µ—Ç–∏–∑–∏—Ä—É–π—Ç–µ –ø—Ä–æ–±–ª–µ–º—É</label>
                        <input type="text" id="subcategory" class="ultra-input" 
                               placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –†–∞–∑–¥–µ–ª –∏–º—É—â–µ—Å—Ç–≤–∞ –ø—Ä–∏ —Ä–∞–∑–≤–æ–¥–µ">
                    </div>
                    
                    <div class="ultra-form-group">
                        <label class="ultra-label" for="description">üìù –û–ø–∏—Å–∞–Ω–∏–µ —Å–∏—Ç—É–∞—Ü–∏–∏</label>
                        <textarea id="description" class="ultra-textarea" rows="3" 
                                placeholder="–û–ø–∏—à–∏—Ç–µ –≤–∞—à—É —Å–∏—Ç—É–∞—Ü–∏—é –ø–æ–¥—Ä–æ–±–Ω–æ..."></textarea>
                        <div class="text-xs" style="margin-top: 4px; text-align: right;">
                            <span id="description-counter">0</span> / 1000
                        </div>
                    </div>

                    <div class="ultra-form-group">
                        <label class="ultra-label">üìé –î–æ–∫—É–º–µ–Ω—Ç—ã</label>
                        <div class="ultra-file-upload">
                            <input type="file" id="files" multiple accept=".pdf,.doc,.docx,.jpg,.jpeg,.png" class="ultra-file-input">
                            <div class="ultra-file-trigger" onclick="document.getElementById('files').click()">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                                    <path d="M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M18,20H6V4H13V9H18V20Z" />
                                </svg>
                                <span>–ü—Ä–∏–∫—Ä–µ–ø–∏—Ç—å</span>
                            </div>
                        </div>
                        <div id="file-list" style="margin-top: 8px;"></div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Step 3: Premium Contact Collection -->
    <section id="step-3" class="ultra-step hidden">
        <div class="ultra-container">
            <div class="ultra-card">
                <h2 class="ultra-title">–ö–æ–Ω—Ç–∞–∫—Ç—ã –¥–ª—è —Å–≤—è–∑–∏</h2>
                <p class="ultra-subtitle">–ö–∞–∫ –ª—É—á—à–µ —Å –≤–∞–º–∏ —Å–≤—è–∑–∞—Ç—å—Å—è –¥–ª—è –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏?</p>
                
                <div style="display: grid; gap: 12px;">
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 12px;">
                        <div class="ultra-form-group">
                            <label class="ultra-label" for="name">üë§ –ò–º—è *</label>
                            <input type="text" id="name" class="ultra-input" placeholder="–í–∞—à–µ –∏–º—è" required>
                        </div>
                        <div class="ultra-form-group">
                            <label class="ultra-label" for="phone">üì± –¢–µ–ª–µ—Ñ–æ–Ω *</label>
                            <input type="tel" id="phone" class="ultra-input" placeholder="+7 (999) 123-45-67" required>
                        </div>
                    </div>
                    
                    <div class="ultra-form-group">
                        <label class="ultra-label" for="email">üìß Email</label>
                        <input type="email" id="email" class="ultra-input" placeholder="example@email.ru">
                    </div>
                    
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 12px;">
                        <div class="ultra-form-group">
                            <label class="ultra-label" for="contact-method">üí¨ –°–≤—è–∑—å *</label>
                            <select id="contact-method" class="ultra-select" required>
                                <option value="">–°–ø–æ—Å–æ–±</option>
                                <option value="telegram">üí¨ Telegram</option>
                                <option value="phone">üìû –ó–≤–æ–Ω–æ–∫</option>
                                <option value="whatsapp">üíö WhatsApp</option>
                                <option value="email">üìß Email</option>
                            </select>
                        </div>
                        
                        <div class="ultra-form-group">
                            <label class="ultra-label" for="contact-time">‚è∞ –í—Ä–µ–º—è</label>
                            <select id="contact-time" class="ultra-select">
                                <option value="any">–õ—é–±–æ–µ</option>
                                <option value="morning">üåÖ –£—Ç—Ä–æ–º</option>
                                <option value="afternoon">‚òÄÔ∏è –î–Ω—ë–º</option>
                                <option value="evening">üåÜ –í–µ—á–µ—Ä–æ–º</option>
                            </select>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Step 4: Premium Review & Confirmation -->
    <section id="step-4" class="ultra-step hidden">
        <div class="ultra-container">
            <div class="ultra-card">
                <h2 class="ultra-title">–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∑–∞—è–≤–∫—É</h2>
                <p class="ultra-subtitle">–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å—ë —É–∫–∞–∑–∞–Ω–æ –≤–µ—Ä–Ω–æ –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π</p>
                
                <div id="review-content" style="margin-bottom: 32px;">
                    <!-- Review content will be inserted here -->
                </div>
                
                <!-- Premium Info Block -->
                <div style="background: linear-gradient(135deg, rgba(79, 172, 254, 0.1), rgba(0, 242, 254, 0.05)); border: 2px solid rgba(79, 172, 254, 0.2); border-radius: 20px; padding: 24px; margin-top: 32px;">
                    <div style="display: flex; align-items: start; gap: 16px;">
                        <div style="color: #4facfe; margin-top: 4px; font-size: 24px;">
                            üöÄ
                        </div>
                        <div>
                            <div style="font-weight: 700; color: #2d3748; margin-bottom: 8px; font-size: 16px;">
                                –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø–æ—Å–ª–µ –æ—Ç–ø—Ä–∞–≤–∫–∏?
                            </div>
                            <div style="font-size: 14px; color: #4a5568; line-height: 1.6;">
                                <div style="margin-bottom: 6px;">‚úÖ <strong>–ú–≥–Ω–æ–≤–µ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞</strong> - –∑–∞—è–≤–∫–∞ –ø–æ—Å—Ç—É–ø–∞–µ—Ç —é—Ä–∏—Å—Ç—É –∑–∞ 30 —Å–µ–∫—É–Ω–¥</div>
                                <div style="margin-bottom: 6px;">üîç <strong>–ê–Ω–∞–ª–∏–∑ —Å–∏—Ç—É–∞—Ü–∏–∏</strong> - —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç –∏–∑—É—á–∞–µ—Ç –≤–∞—à—É –ø—Ä–æ–±–ª–µ–º—É</div>
                                <div style="margin-bottom: 6px;">üìû <strong>–ë—ã—Å—Ç—Ä–∞—è —Å–≤—è–∑—å</strong> - –æ–±—Ä–∞—Ç–∏–º—Å—è –≤ —É–¥–æ–±–Ω–æ–µ –≤—Ä–µ–º—è</div>
                                <div>‚öñÔ∏è <strong>–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ</strong> - –ø–æ–ª—É—á–∏—Ç–µ –ø–ª–∞–Ω –¥–µ–π—Å—Ç–≤–∏–π</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Premium Success Celebration -->
    <section id="success" class="ultra-step hidden">
        <div class="ultra-container">
            <div class="ultra-success">
                <div class="ultra-success-icon">
                    <svg viewBox="0 0 20 20" fill="currentColor">
                        <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                    </svg>
                </div>
                
                <h2 class="ultra-success-title">–ó–∞—è–≤–∫–∞ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞! üéâ</h2>
                <p class="ultra-success-text">
                    –ü—Ä–µ–≤–æ—Å—Ö–æ–¥–Ω–æ! –í–∞—à–∞ –∑–∞—è–≤–∫–∞ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è. –ú—ã —Å–≤—è–∂–µ–º—Å—è —Å –≤–∞–º–∏ –≤ –±–ª–∏–∂–∞–π—à–∏–µ 15 –º–∏–Ω—É—Ç 
                    —á–µ—Ä–µ–∑ –≤—ã–±—Ä–∞–Ω–Ω—ã–π —Å–ø–æ—Å–æ–± —Å–≤—è–∑–∏.
                </p>
                
                <!-- Premium Payment Section -->
                <div id="payment-section" class="hidden">
                    <div class="ultra-card ultra-card-compact" style="margin-top: 32px; background: linear-gradient(135deg, rgba(17, 153, 142, 0.1), rgba(56, 239, 125, 0.05)); border: 2px solid rgba(17, 153, 142, 0.3);">
                        <h3 style="font-size: 20px; font-weight: 700; margin-bottom: 12px; color: #2d3748; display: flex; align-items: center; gap: 8px;">
                            üíé –ü—Ä–µ–º–∏—É–º –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è
                        </h3>
                        <p style="color: #4a5568; margin-bottom: 20px; font-size: 14px; line-height: 1.5;">
                            –î–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–π –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏ —Å –¥–æ–∫—É–º–µ–Ω—Ç–∞–º–∏ –∏ –ø–ª–∞–Ω–æ–º –¥–µ–π—Å—Ç–≤–∏–π
                        </p>
                        <a id="pay-button" href="#" class="ultra-btn ultra-btn-success ultra-btn-full ultra-btn-lg">
                            üí≥ –û–ø–ª–∞—Ç–∏—Ç—å –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—é
                        </a>
                    </div>
                </div>
                
                <div style="margin-top: 40px;">
                    <button onclick="window.close ? window.close() : Telegram.WebApp?.close()" 
                            class="ultra-btn ultra-btn-secondary ultra-btn-lg">
                        –ó–∞–∫—Ä—ã—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
                    </button>
                </div>
            </div>
        </div>
    </section>

    <!-- Ultra-Modern Navigation -->
    <nav class="ultra-navigation">
        <div class="ultra-nav-content">
            <button id="back-btn" class="ultra-btn ultra-btn-secondary ultra-nav-btn" style="display: none;">
                ‚Üê –ù–∞–∑–∞–¥
            </button>
            <button id="next-btn" class="ultra-btn ultra-btn-primary ultra-nav-btn">
                –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å ‚Üí
            </button>
        </div>
    </nav>
</div>

<!-- Simple Test JavaScript -->
<script src="/webapp/simple-test.js"></script>

<!-- Additional Premium Features -->
<script>
    // Premium loading animation
    document.addEventListener('DOMContentLoaded', () => {
        document.body.style.opacity = '0';
        document.body.style.transform = 'scale(0.98)';
        
        setTimeout(() => {
            document.body.style.transition = 'all 0.6s cubic-bezier(0.34, 1.56, 0.64, 1)';
            document.body.style.opacity = '1';
            document.body.style.transform = 'scale(1)';
        }, 100);
    });
    
    // Premium haptic feedback
    function premiumHaptic(type = 'light') {
        if (window.Telegram?.WebApp?.HapticFeedback) {
            if (type === 'success') {
                window.Telegram.WebApp.HapticFeedback.notificationOccurred('success');
            } else if (type === 'error') {
                window.Telegram.WebApp.HapticFeedback.notificationOccurred('error');
            } else {
                window.Telegram.WebApp.HapticFeedback.impactOccurred(type);
            }
        }
    }
    
    // Add haptic feedback to all interactive elements
    document.addEventListener('click', (e) => {
        if (e.target.matches('.ultra-btn, .ultra-category, .ultra-input, .ultra-select')) {
            premiumHaptic('light');
        }
    });
</script>

</body>
</html>